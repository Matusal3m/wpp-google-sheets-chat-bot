datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model Company {
    id           Int        @id @default(autoincrement())
    name         String
    supervisor   Supervisor @relation(fields: [supervisorId], references: [id])
    supervisorId Int        @unique
    students     Student[]
}

model Supervisor {
    id       Int       @id @default(autoincrement())
    name     String
    phone    String    @unique
    company  Company?
    students Student[]
}

model Student {
    id               Int        @id @default(autoincrement())
    name             String
    enrollmentNumber String
    area             String
    callNumber       String
    supervisor       Supervisor @relation(fields: [supervisorId], references: [id])
    supervisorId     Int
    company          Company    @relation(fields: [companyId], references: [id])
    companyId        Int
    hasGrade         Boolean    @default(false)
}
